2022-04-28 10:03:29,840 - FL-type - INFO - logger init finished ---- log file: ../models/configs/har/har_fedbalancer_seed2.cfg.log
2022-04-28 10:03:30,865 - FL-type - INFO - read config from ../models/configs/har/har_fedbalancer_seed2.cfg
2022-04-28 10:03:30,865 - FL-type - INFO - no behavior heterogeneity! assume client is availiable at any time.
2022-04-28 10:03:30,865 - FL-type - INFO - ================= Config =================
2022-04-28 10:03:30,866 - FL-type - INFO - 	config_name = ../models/configs/har/har_fedbalancer_seed2.cfg
2022-04-28 10:03:30,866 - FL-type - INFO - 	dataset = har
2022-04-28 10:03:30,866 - FL-type - INFO - 	model = lr
2022-04-28 10:03:30,866 - FL-type - INFO - 	num_rounds = 6000
2022-04-28 10:03:30,866 - FL-type - INFO - 	lr = 0.0003
2022-04-28 10:03:30,866 - FL-type - INFO - 	eval_every = 5
2022-04-28 10:03:30,866 - FL-type - INFO - 	clients_per_round = 5
2022-04-28 10:03:30,866 - FL-type - INFO - 	min_selected = 1
2022-04-28 10:03:30,866 - FL-type - INFO - 	max_sample = 2147483647
2022-04-28 10:03:30,867 - FL-type - INFO - 	batch_size = 10
2022-04-28 10:03:30,867 - FL-type - INFO - 	seed = 2
2022-04-28 10:03:30,867 - FL-type - INFO - 	num_epochs = 5
2022-04-28 10:03:30,867 - FL-type - INFO - 	minibatch = None
2022-04-28 10:03:30,867 - FL-type - INFO - 	round_ddl = [60.0, 0.0]
2022-04-28 10:03:30,867 - FL-type - INFO - 	update_frac = 0.01
2022-04-28 10:03:30,867 - FL-type - INFO - 	max_client_num = 9223372036854775807
2022-04-28 10:03:30,867 - FL-type - INFO - 	aggregate_algorithm = SucFedAvg
2022-04-28 10:03:30,868 - FL-type - INFO - 	time_window = [20.0, 0.0]
2022-04-28 10:03:30,868 - FL-type - INFO - 	user_trace = False
2022-04-28 10:03:30,868 - FL-type - INFO - 	behav_hete = False
2022-04-28 10:03:30,868 - FL-type - INFO - 	hard_hete = True
2022-04-28 10:03:30,868 - FL-type - INFO - 	no_training = False
2022-04-28 10:03:30,868 - FL-type - INFO - 	real_world = False
2022-04-28 10:03:30,868 - FL-type - INFO - 	compress_algo = None
2022-04-28 10:03:30,868 - FL-type - INFO - 	fedprox = False
2022-04-28 10:03:30,869 - FL-type - INFO - 	fedprox_mu = 0
2022-04-28 10:03:30,869 - FL-type - INFO - 	structure_k = None
2022-04-28 10:03:30,869 - FL-type - INFO - 	qffl = False
2022-04-28 10:03:30,869 - FL-type - INFO - 	qffl_q = 0
2022-04-28 10:03:30,869 - FL-type - INFO - 	fedbalancer = True
2022-04-28 10:03:30,869 - FL-type - INFO - 	fb_w = 20
2022-04-28 10:03:30,869 - FL-type - INFO - 	fb_p = 0.0
2022-04-28 10:03:30,869 - FL-type - INFO - 	fb_inference_pipelining = True
2022-04-28 10:03:30,869 - FL-type - INFO - 	noise_factor = 0.0
2022-04-28 10:03:30,870 - FL-type - INFO - 	fb_simple_control_lt = True
2022-04-28 10:03:30,870 - FL-type - INFO - 	fb_simple_control_ddl = True
2022-04-28 10:03:30,870 - FL-type - INFO - 	fb_simple_control_lt_stepsize = 0.05
2022-04-28 10:03:30,870 - FL-type - INFO - 	fb_simple_control_ddl_stepsize = 0.05
2022-04-28 10:03:30,870 - FL-type - INFO - 	fb_client_selection = True
2022-04-28 10:03:30,870 - FL-type - INFO - 	oort_pacer = False
2022-04-28 10:03:30,871 - FL-type - INFO - 	oort_pacer_delta = 10
2022-04-28 10:03:30,871 - FL-type - INFO - 	oort_blacklist = False
2022-04-28 10:03:30,871 - FL-type - INFO - 	oort_blacklist_rounds = 10
2022-04-28 10:03:30,871 - FL-type - INFO - 	realoort = False
2022-04-28 10:03:30,871 - FL-type - INFO - 	realoortbalancer = False
2022-04-28 10:03:30,871 - FL-type - INFO - 	ddl_baseline_smartpc = False
2022-04-28 10:03:30,871 - FL-type - INFO - 	ddl_baseline_smartpc_percentage = 0.0
2022-04-28 10:03:30,871 - FL-type - INFO - 	ddl_baseline_fixed = False
2022-04-28 10:03:30,872 - FL-type - INFO - 	ddl_baseline_fixed_value_multiplied_at_mean = 0.0
2022-04-28 10:03:30,872 - FL-type - INFO - 	global_final_time = 500000
2022-04-28 10:03:30,872 - FL-type - INFO - 	global_final_test_accuracy = 0.0
2022-04-28 10:03:30,872 - FL-type - INFO - 	output_path = ../models/configs/har/
2022-04-28 10:03:30,872 - FL-type - INFO - ================= ====== =================
2022-04-28 10:03:30,873 - FL-type - INFO - ############################## har.lr ##############################
2022-04-28 10:03:33,371 - FL-type - INFO - model size: 13488
2022-04-28 10:03:33,372 - FL-type - INFO - ======================Setup Clients==========================
2022-04-28 10:03:34,853 - FL-type - INFO - Train Clients in Total: 21
2022-04-28 10:03:34,853 - FL-type - INFO - Test Clients in Total: 1
2022-04-28 10:03:34,863 - FL-type - INFO - set up 10 clients
2022-04-28 10:03:34,867 - FL-type - INFO - set up 20 clients
2022-04-28 10:03:34,965 - FL-type - INFO - Timer cached in cached_timers.json
2022-04-28 10:03:34,966 - FL-type - INFO - device setup result: defaultdict(<class 'int'>, {'Google Nexus S': 14, 'Xiaomi Redmi Note 7 Pro': 7})
2022-04-28 10:03:34,996 - FL-type - INFO - ===================== Random Initialization =====================
2022-04-28 10:03:34,996 - FL-type - INFO - ===================== Round 1 of 6000 =====================
2022-04-28 10:03:34,996 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:34,996 - FL-type - INFO - current time: 0	time window: 20.0	
2022-04-28 10:03:34,997 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:34,998 - FL-type - INFO - selected num: 5
2022-04-28 10:03:34,998 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:34,999 - FL-type - INFO - this round deadline 250, loss_threshold 0
2022-04-28 10:03:34,999 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:37,426 - FL-type - INFO - average acc: 0.17458300130157312, average loss: 1.8688742160797118
2022-04-28 10:03:37,427 - FL-type - INFO - configuration and update stage simulation time: 246.38515361033163
2022-04-28 10:03:37,428 - FL-type - INFO - current_round_loss: 0.009730388272437636
2022-04-28 10:03:37,428 - FL-type - INFO - min sample loss: 0.6286424994468689, max sample loss: 4.7396087646484375
2022-04-28 10:03:37,428 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:37,428 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:37,429 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:37,429 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:37,429 - FL-type - INFO - ===================== Round 2 of 6000 =====================
2022-04-28 10:03:37,429 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:37,430 - FL-type - INFO - current time: 266.3851536103316	time window: 20.0	
2022-04-28 10:03:37,430 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:37,432 - FL-type - INFO - epsilon 0.9
2022-04-28 10:03:37,433 - FL-type - INFO - selected num: 5
2022-04-28 10:03:37,433 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:37,433 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:37,433 - FL-type - INFO - this round deadline 250, loss_threshold 0
2022-04-28 10:03:37,433 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:40,189 - FL-type - INFO - average acc: 0.22916481797880844, average loss: 1.6227729558944701
2022-04-28 10:03:40,190 - FL-type - INFO - configuration and update stage simulation time: 116.32059305572872
2022-04-28 10:03:40,191 - FL-type - INFO - current_round_loss: 0.007699843502406898
2022-04-28 10:03:40,191 - FL-type - INFO - min sample loss: 0.6935898065567017, max sample loss: 3.80084228515625
2022-04-28 10:03:40,192 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:40,192 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:40,192 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:40,192 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:40,193 - FL-type - INFO - ===================== Round 3 of 6000 =====================
2022-04-28 10:03:40,193 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:40,193 - FL-type - INFO - current time: 402.70574666606035	time window: 20.0	
2022-04-28 10:03:40,194 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:40,196 - FL-type - INFO - epsilon 0.882
2022-04-28 10:03:40,197 - FL-type - INFO - selected num: 5
2022-04-28 10:03:40,197 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:40,197 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:40,197 - FL-type - INFO - this round deadline 250, loss_threshold 0
2022-04-28 10:03:40,197 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:42,291 - FL-type - INFO - average acc: 0.34727743982246934, average loss: 1.505613088607788
2022-04-28 10:03:42,292 - FL-type - INFO - configuration and update stage simulation time: 247.35039521857763
2022-04-28 10:03:42,292 - FL-type - INFO - current_round_loss: 0.006663311387025912
2022-04-28 10:03:42,292 - FL-type - INFO - min sample loss: 0.8634731769561768, max sample loss: 2.7464475631713867
2022-04-28 10:03:42,292 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:42,293 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:42,293 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:42,293 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:42,293 - FL-type - INFO - ===================== Round 4 of 6000 =====================
2022-04-28 10:03:42,293 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:42,294 - FL-type - INFO - current time: 670.056141884638	time window: 20.0	
2022-04-28 10:03:42,294 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:42,296 - FL-type - INFO - epsilon 0.86436
2022-04-28 10:03:42,296 - FL-type - INFO - selected num: 5
2022-04-28 10:03:42,297 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:42,297 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:42,299 - FL-type - INFO - deadline_low 68, deadline_high 337, deadline 337.0
2022-04-28 10:03:42,299 - FL-type - INFO - this round deadline 337.0, loss_threshold 0
2022-04-28 10:03:42,299 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:44,812 - FL-type - INFO - average acc: 0.44075480952969565, average loss: 1.394869613647461
2022-04-28 10:03:44,812 - FL-type - INFO - configuration and update stage simulation time: 305.84595402449537
2022-04-28 10:03:44,813 - FL-type - INFO - current_round_loss: 0.004589389976478826
2022-04-28 10:03:44,813 - FL-type - INFO - min sample loss: 0.509463906288147, max sample loss: 2.519141435623169
2022-04-28 10:03:44,813 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:44,813 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:44,813 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:44,813 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:44,814 - FL-type - INFO - ===================== Round 5 of 6000 =====================
2022-04-28 10:03:44,814 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:44,814 - FL-type - INFO - current time: 995.9020959091333	time window: 20.0	
2022-04-28 10:03:44,814 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:44,816 - FL-type - INFO - epsilon 0.8470728
2022-04-28 10:03:44,817 - FL-type - INFO - selected num: 5
2022-04-28 10:03:44,817 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:44,817 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:44,819 - FL-type - INFO - deadline_low 24, deadline_high 117, deadline 117.0
2022-04-28 10:03:44,819 - FL-type - INFO - this round deadline 117.0, loss_threshold 0
2022-04-28 10:03:44,820 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:46,252 - FL-type - INFO - average acc: 0.5002468917997704, average loss: 1.3665946006774903
2022-04-28 10:03:46,253 - FL-type - INFO - configuration and update stage simulation time: 115.98295482143818
2022-04-28 10:03:46,253 - FL-type - INFO - current_round_loss: 0.014146983702898104
2022-04-28 10:03:46,253 - FL-type - INFO - min sample loss: 0.49521923065185547, max sample loss: 3.253721237182617
2022-04-28 10:03:46,253 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:46,254 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:46,254 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:46,254 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:46,254 - FL-type - INFO - --------------------- test result ---------------------
2022-04-28 10:03:46,430 - FL-type - INFO - test_accuracy: 0.44350186630471666, 10th percentile: 0.44350186630471666, 50th percentile: 0.44350186630471666, 90th percentile 0.44350186630471666
2022-04-28 10:03:46,432 - FL-type - INFO - test_loss: 1.3977354764938354, 10th percentile: 1.3977354764938354, 50th percentile: 1.3977354764938354, 90th percentile 1.3977354764938354
2022-04-28 10:03:46,432 - FL-type - INFO - ===================== Round 6 of 6000 =====================
2022-04-28 10:03:46,432 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:46,432 - FL-type - INFO - current time: 1131.8850507305715	time window: 20.0	
2022-04-28 10:03:46,432 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:46,435 - FL-type - INFO - selected num: 5
2022-04-28 10:03:46,435 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:46,435 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:46,437 - FL-type - INFO - deadline_low 24, deadline_high 118, deadline 118.0
2022-04-28 10:03:46,438 - FL-type - INFO - this round deadline 118.0, loss_threshold 0
2022-04-28 10:03:46,438 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:48,335 - FL-type - INFO - average acc: 0.6286432971080401, average loss: 1.2734087228775024
2022-04-28 10:03:48,336 - FL-type - INFO - configuration and update stage simulation time: 115.94897421486279
2022-04-28 10:03:48,336 - FL-type - INFO - current_round_loss: 0.015504171080564042
2022-04-28 10:03:48,336 - FL-type - INFO - min sample loss: 0.5986267328262329, max sample loss: 4.321075916290283
2022-04-28 10:03:48,336 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:48,337 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:48,337 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:48,337 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:48,337 - FL-type - INFO - ===================== Round 7 of 6000 =====================
2022-04-28 10:03:48,337 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:48,338 - FL-type - INFO - current time: 1267.8340249454343	time window: 20.0	
2022-04-28 10:03:48,338 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:48,340 - FL-type - INFO - selected num: 5
2022-04-28 10:03:48,340 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:48,340 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:48,342 - FL-type - INFO - deadline_low 56, deadline_high 279, deadline 279.0
2022-04-28 10:03:48,342 - FL-type - INFO - this round deadline 279.0, loss_threshold 0
2022-04-28 10:03:48,342 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:50,547 - FL-type - INFO - average acc: 0.6502322910017033, average loss: 1.2106447696685791
2022-04-28 10:03:50,548 - FL-type - INFO - configuration and update stage simulation time: 252.31519698329058
2022-04-28 10:03:50,548 - FL-type - INFO - current_round_loss: 0.0073575395668308355
2022-04-28 10:03:50,548 - FL-type - INFO - min sample loss: 0.6286424994468689, max sample loss: 4.704697132110596
2022-04-28 10:03:50,549 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:50,549 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:50,549 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:50,549 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:50,550 - FL-type - INFO - ===================== Round 8 of 6000 =====================
2022-04-28 10:03:50,550 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:50,550 - FL-type - INFO - current time: 1540.149221928725	time window: 20.0	
2022-04-28 10:03:50,550 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:50,553 - FL-type - INFO - selected num: 5
2022-04-28 10:03:50,553 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:50,553 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:50,555 - FL-type - INFO - deadline_low 56, deadline_high 276, deadline 276.0
2022-04-28 10:03:50,556 - FL-type - INFO - this round deadline 276.0, loss_threshold 0
2022-04-28 10:03:50,556 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:52,824 - FL-type - INFO - average acc: 0.7131544408308289, average loss: 1.145944881439209
2022-04-28 10:03:52,825 - FL-type - INFO - configuration and update stage simulation time: 256.6316362171727
2022-04-28 10:03:52,825 - FL-type - INFO - current_round_loss: 0.004770452808432091
2022-04-28 10:03:52,826 - FL-type - INFO - min sample loss: 0.5573457479476929, max sample loss: 2.2028918266296387
2022-04-28 10:03:52,826 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:52,826 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:52,827 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:52,827 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:52,827 - FL-type - INFO - ===================== Round 9 of 6000 =====================
2022-04-28 10:03:52,827 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:52,828 - FL-type - INFO - current time: 1816.7808581458976	time window: 20.0	
2022-04-28 10:03:52,828 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:52,830 - FL-type - INFO - selected num: 5
2022-04-28 10:03:52,830 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:52,830 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:52,833 - FL-type - INFO - deadline_low 24, deadline_high 116, deadline 116.0
2022-04-28 10:03:52,833 - FL-type - INFO - this round deadline 116.0, loss_threshold 0
2022-04-28 10:03:52,833 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:54,426 - FL-type - INFO - average acc: 0.709373673435659, average loss: 1.139413332939148
2022-04-28 10:03:54,427 - FL-type - INFO - configuration and update stage simulation time: 105.59197749160285
2022-04-28 10:03:54,427 - FL-type - INFO - current_round_loss: 0.013327947439729778
2022-04-28 10:03:54,427 - FL-type - INFO - min sample loss: 0.5526502728462219, max sample loss: 3.571915626525879
2022-04-28 10:03:54,428 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:54,428 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:54,428 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:54,428 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:54,429 - FL-type - INFO - ===================== Round 10 of 6000 =====================
2022-04-28 10:03:54,429 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:54,429 - FL-type - INFO - current time: 1942.3728356375004	time window: 20.0	
2022-04-28 10:03:54,429 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:54,431 - FL-type - INFO - selected num: 5
2022-04-28 10:03:54,431 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:54,432 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:54,435 - FL-type - INFO - deadline_low 21, deadline_high 101, deadline 101.0
2022-04-28 10:03:54,435 - FL-type - INFO - this round deadline 101.0, loss_threshold 0
2022-04-28 10:03:54,435 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
