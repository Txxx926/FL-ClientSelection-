2022-04-28 10:03:29,803 - FL-type - INFO - logger init finished ---- log file: ../models/configs/har/har_fedbalancer_seed0.cfg.log
2022-04-28 10:03:30,946 - FL-type - INFO - read config from ../models/configs/har/har_fedbalancer_seed0.cfg
2022-04-28 10:03:30,947 - FL-type - INFO - no behavior heterogeneity! assume client is availiable at any time.
2022-04-28 10:03:30,947 - FL-type - INFO - ================= Config =================
2022-04-28 10:03:30,947 - FL-type - INFO - 	config_name = ../models/configs/har/har_fedbalancer_seed0.cfg
2022-04-28 10:03:30,947 - FL-type - INFO - 	dataset = har
2022-04-28 10:03:30,947 - FL-type - INFO - 	model = lr
2022-04-28 10:03:30,947 - FL-type - INFO - 	num_rounds = 6000
2022-04-28 10:03:30,948 - FL-type - INFO - 	lr = 0.0003
2022-04-28 10:03:30,948 - FL-type - INFO - 	eval_every = 5
2022-04-28 10:03:30,948 - FL-type - INFO - 	clients_per_round = 5
2022-04-28 10:03:30,948 - FL-type - INFO - 	min_selected = 1
2022-04-28 10:03:30,948 - FL-type - INFO - 	max_sample = 2147483647
2022-04-28 10:03:30,948 - FL-type - INFO - 	batch_size = 10
2022-04-28 10:03:30,948 - FL-type - INFO - 	seed = 0
2022-04-28 10:03:30,949 - FL-type - INFO - 	num_epochs = 5
2022-04-28 10:03:30,949 - FL-type - INFO - 	minibatch = None
2022-04-28 10:03:30,949 - FL-type - INFO - 	round_ddl = [60.0, 0.0]
2022-04-28 10:03:30,949 - FL-type - INFO - 	update_frac = 0.01
2022-04-28 10:03:30,949 - FL-type - INFO - 	max_client_num = 9223372036854775807
2022-04-28 10:03:30,949 - FL-type - INFO - 	aggregate_algorithm = SucFedAvg
2022-04-28 10:03:30,949 - FL-type - INFO - 	time_window = [20.0, 0.0]
2022-04-28 10:03:30,950 - FL-type - INFO - 	user_trace = False
2022-04-28 10:03:30,950 - FL-type - INFO - 	behav_hete = False
2022-04-28 10:03:30,950 - FL-type - INFO - 	hard_hete = True
2022-04-28 10:03:30,950 - FL-type - INFO - 	no_training = False
2022-04-28 10:03:30,950 - FL-type - INFO - 	real_world = False
2022-04-28 10:03:30,950 - FL-type - INFO - 	compress_algo = None
2022-04-28 10:03:30,950 - FL-type - INFO - 	fedprox = False
2022-04-28 10:03:30,950 - FL-type - INFO - 	fedprox_mu = 0
2022-04-28 10:03:30,951 - FL-type - INFO - 	structure_k = None
2022-04-28 10:03:30,951 - FL-type - INFO - 	qffl = False
2022-04-28 10:03:30,951 - FL-type - INFO - 	qffl_q = 0
2022-04-28 10:03:30,951 - FL-type - INFO - 	fedbalancer = True
2022-04-28 10:03:30,951 - FL-type - INFO - 	fb_w = 20
2022-04-28 10:03:30,951 - FL-type - INFO - 	fb_p = 0.0
2022-04-28 10:03:30,951 - FL-type - INFO - 	fb_inference_pipelining = True
2022-04-28 10:03:30,952 - FL-type - INFO - 	noise_factor = 0.0
2022-04-28 10:03:30,952 - FL-type - INFO - 	fb_simple_control_lt = True
2022-04-28 10:03:30,952 - FL-type - INFO - 	fb_simple_control_ddl = True
2022-04-28 10:03:30,952 - FL-type - INFO - 	fb_simple_control_lt_stepsize = 0.05
2022-04-28 10:03:30,952 - FL-type - INFO - 	fb_simple_control_ddl_stepsize = 0.05
2022-04-28 10:03:30,952 - FL-type - INFO - 	fb_client_selection = True
2022-04-28 10:03:30,952 - FL-type - INFO - 	oort_pacer = False
2022-04-28 10:03:30,952 - FL-type - INFO - 	oort_pacer_delta = 10
2022-04-28 10:03:30,953 - FL-type - INFO - 	oort_blacklist = False
2022-04-28 10:03:30,953 - FL-type - INFO - 	oort_blacklist_rounds = 10
2022-04-28 10:03:30,953 - FL-type - INFO - 	realoort = False
2022-04-28 10:03:30,953 - FL-type - INFO - 	realoortbalancer = False
2022-04-28 10:03:30,953 - FL-type - INFO - 	ddl_baseline_smartpc = False
2022-04-28 10:03:30,953 - FL-type - INFO - 	ddl_baseline_smartpc_percentage = 0.0
2022-04-28 10:03:30,953 - FL-type - INFO - 	ddl_baseline_fixed = False
2022-04-28 10:03:30,954 - FL-type - INFO - 	ddl_baseline_fixed_value_multiplied_at_mean = 0.0
2022-04-28 10:03:30,954 - FL-type - INFO - 	global_final_time = 500000
2022-04-28 10:03:30,954 - FL-type - INFO - 	global_final_test_accuracy = 0.0
2022-04-28 10:03:30,954 - FL-type - INFO - 	output_path = ../models/configs/har/
2022-04-28 10:03:30,954 - FL-type - INFO - ================= ====== =================
2022-04-28 10:03:30,955 - FL-type - INFO - ############################## har.lr ##############################
2022-04-28 10:03:33,370 - FL-type - INFO - model size: 13488
2022-04-28 10:03:33,371 - FL-type - INFO - ======================Setup Clients==========================
2022-04-28 10:03:35,090 - FL-type - INFO - Train Clients in Total: 21
2022-04-28 10:03:35,090 - FL-type - INFO - Test Clients in Total: 1
2022-04-28 10:03:35,098 - FL-type - INFO - set up 10 clients
2022-04-28 10:03:35,102 - FL-type - INFO - set up 20 clients
2022-04-28 10:03:35,183 - FL-type - INFO - Timer cached in cached_timers.json
2022-04-28 10:03:35,183 - FL-type - INFO - device setup result: defaultdict(<class 'int'>, {'Xiaomi Redmi Note 7 Pro': 11, 'Google Nexus S': 10})
2022-04-28 10:03:35,209 - FL-type - INFO - ===================== Random Initialization =====================
2022-04-28 10:03:35,210 - FL-type - INFO - ===================== Round 1 of 6000 =====================
2022-04-28 10:03:35,210 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:35,210 - FL-type - INFO - current time: 0	time window: 20.0	
2022-04-28 10:03:35,210 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:35,212 - FL-type - INFO - selected num: 5
2022-04-28 10:03:35,213 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:35,213 - FL-type - INFO - this round deadline 215, loss_threshold 0
2022-04-28 10:03:35,213 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:37,685 - FL-type - INFO - average acc: 0.27532337281711167, average loss: 1.7820651292800904
2022-04-28 10:03:37,687 - FL-type - INFO - configuration and update stage simulation time: 191.56941060989448
2022-04-28 10:03:37,687 - FL-type - INFO - current_round_loss: 0.009551604642117337
2022-04-28 10:03:37,687 - FL-type - INFO - min sample loss: 0.935746967792511, max sample loss: 4.118290424346924
2022-04-28 10:03:37,688 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:37,688 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:37,688 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:37,688 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:37,689 - FL-type - INFO - ===================== Round 2 of 6000 =====================
2022-04-28 10:03:37,689 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:37,689 - FL-type - INFO - current time: 211.56941060989448	time window: 20.0	
2022-04-28 10:03:37,689 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:37,692 - FL-type - INFO - epsilon 0.9
2022-04-28 10:03:37,692 - FL-type - INFO - selected num: 5
2022-04-28 10:03:37,692 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:37,692 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:37,692 - FL-type - INFO - this round deadline 215, loss_threshold 0
2022-04-28 10:03:37,693 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:40,224 - FL-type - INFO - average acc: 0.40970691549410587, average loss: 1.5720297813415527
2022-04-28 10:03:40,225 - FL-type - INFO - configuration and update stage simulation time: 125.19776558239343
2022-04-28 10:03:40,225 - FL-type - INFO - current_round_loss: 0.008168203235514603
2022-04-28 10:03:40,225 - FL-type - INFO - min sample loss: 0.8411079049110413, max sample loss: 3.510209560394287
2022-04-28 10:03:40,226 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:40,226 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:40,226 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:40,226 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:40,227 - FL-type - INFO - ===================== Round 3 of 6000 =====================
2022-04-28 10:03:40,227 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:40,227 - FL-type - INFO - current time: 356.76717619228793	time window: 20.0	
2022-04-28 10:03:40,227 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:40,229 - FL-type - INFO - epsilon 0.882
2022-04-28 10:03:40,230 - FL-type - INFO - selected num: 5
2022-04-28 10:03:40,230 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:40,230 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:40,230 - FL-type - INFO - this round deadline 215, loss_threshold 0
2022-04-28 10:03:40,230 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:42,501 - FL-type - INFO - average acc: 0.4451612874625847, average loss: 1.472829270362854
2022-04-28 10:03:42,501 - FL-type - INFO - configuration and update stage simulation time: 179.56821669641604
2022-04-28 10:03:42,502 - FL-type - INFO - current_round_loss: 0.007514611058553843
2022-04-28 10:03:42,502 - FL-type - INFO - min sample loss: 0.7519580721855164, max sample loss: 2.863910675048828
2022-04-28 10:03:42,502 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:42,502 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:42,502 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:42,502 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:42,503 - FL-type - INFO - ===================== Round 4 of 6000 =====================
2022-04-28 10:03:42,503 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:42,503 - FL-type - INFO - current time: 556.335392888704	time window: 20.0	
2022-04-28 10:03:42,503 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:42,505 - FL-type - INFO - epsilon 0.86436
2022-04-28 10:03:42,505 - FL-type - INFO - selected num: 5
2022-04-28 10:03:42,506 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:42,506 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:42,508 - FL-type - INFO - deadline_low 65, deadline_high 325, deadline 325.0
2022-04-28 10:03:42,508 - FL-type - INFO - this round deadline 325.0, loss_threshold 0
2022-04-28 10:03:42,508 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:44,985 - FL-type - INFO - average acc: 0.480643387425831, average loss: 1.375609564781189
2022-04-28 10:03:44,986 - FL-type - INFO - configuration and update stage simulation time: 304.4311830475156
2022-04-28 10:03:44,986 - FL-type - INFO - current_round_loss: 0.0046581131158128205
2022-04-28 10:03:44,987 - FL-type - INFO - min sample loss: 0.70188307762146, max sample loss: 2.8206520080566406
2022-04-28 10:03:44,987 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:44,987 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:44,987 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:44,987 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:44,988 - FL-type - INFO - ===================== Round 5 of 6000 =====================
2022-04-28 10:03:44,988 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:44,988 - FL-type - INFO - current time: 880.7665759362196	time window: 20.0	
2022-04-28 10:03:44,988 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:44,992 - FL-type - INFO - epsilon 0.8470728
2022-04-28 10:03:44,992 - FL-type - INFO - selected num: 5
2022-04-28 10:03:44,992 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:44,992 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:44,996 - FL-type - INFO - deadline_low 23, deadline_high 112, deadline 112.0
2022-04-28 10:03:44,997 - FL-type - INFO - this round deadline 112.0, loss_threshold 0
2022-04-28 10:03:44,997 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:46,325 - FL-type - INFO - average acc: 0.5301185187407127, average loss: 1.3239695072174071
2022-04-28 10:03:46,325 - FL-type - INFO - configuration and update stage simulation time: 110.35605284798977
2022-04-28 10:03:46,326 - FL-type - INFO - current_round_loss: 0.014173506696937474
2022-04-28 10:03:46,326 - FL-type - INFO - min sample loss: 0.6973997354507446, max sample loss: 3.9646122455596924
2022-04-28 10:03:46,326 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:46,326 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:46,327 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:46,327 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:46,328 - FL-type - INFO - --------------------- test result ---------------------
2022-04-28 10:03:46,491 - FL-type - INFO - test_accuracy: 0.48897183576518494, 10th percentile: 0.48897183576518494, 50th percentile: 0.48897183576518494, 90th percentile 0.48897183576518494
2022-04-28 10:03:46,493 - FL-type - INFO - test_loss: 1.3921536207199097, 10th percentile: 1.3921536207199097, 50th percentile: 1.3921536207199097, 90th percentile 1.3921536207199097
2022-04-28 10:03:46,493 - FL-type - INFO - ===================== Round 6 of 6000 =====================
2022-04-28 10:03:46,494 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:46,494 - FL-type - INFO - current time: 1011.1226287842094	time window: 20.0	
2022-04-28 10:03:46,495 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:46,499 - FL-type - INFO - selected num: 5
2022-04-28 10:03:46,499 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:46,499 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:46,504 - FL-type - INFO - deadline_low 25, deadline_high 122, deadline 122.0
2022-04-28 10:03:46,504 - FL-type - INFO - this round deadline 122.0, loss_threshold 0
2022-04-28 10:03:46,504 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:48,653 - FL-type - INFO - average acc: 0.49598415495128717, average loss: 1.3262147426605224
2022-04-28 10:03:48,654 - FL-type - INFO - configuration and update stage simulation time: 121.08043862863556
2022-04-28 10:03:48,654 - FL-type - INFO - current_round_loss: 0.014584283554643978
2022-04-28 10:03:48,654 - FL-type - INFO - min sample loss: 0.7577569484710693, max sample loss: 4.099200248718262
2022-04-28 10:03:48,654 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:48,655 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:48,655 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:48,655 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:48,655 - FL-type - INFO - ===================== Round 7 of 6000 =====================
2022-04-28 10:03:48,656 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:48,656 - FL-type - INFO - current time: 1152.203067412845	time window: 20.0	
2022-04-28 10:03:48,656 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:48,660 - FL-type - INFO - selected num: 5
2022-04-28 10:03:48,660 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:48,660 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:48,663 - FL-type - INFO - deadline_low 25, deadline_high 121, deadline 121.0
2022-04-28 10:03:48,663 - FL-type - INFO - this round deadline 121.0, loss_threshold 0
2022-04-28 10:03:48,663 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:50,234 - FL-type - INFO - average acc: 0.5313783460349256, average loss: 1.2568029880523681
2022-04-28 10:03:50,235 - FL-type - INFO - configuration and update stage simulation time: 100.1583240678756
2022-04-28 10:03:50,236 - FL-type - INFO - current_round_loss: 0.014139078100712679
2022-04-28 10:03:50,236 - FL-type - INFO - min sample loss: 0.7918389439582825, max sample loss: 3.828690528869629
2022-04-28 10:03:50,236 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:50,236 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:50,236 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:50,237 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:50,237 - FL-type - INFO - ===================== Round 8 of 6000 =====================
2022-04-28 10:03:50,238 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:50,238 - FL-type - INFO - current time: 1272.3613914807206	time window: 20.0	
2022-04-28 10:03:50,238 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:50,240 - FL-type - INFO - selected num: 5
2022-04-28 10:03:50,241 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:50,241 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:50,243 - FL-type - INFO - deadline_low 25, deadline_high 121, deadline 121.0
2022-04-28 10:03:50,243 - FL-type - INFO - this round deadline 121.0, loss_threshold 0
2022-04-28 10:03:50,243 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:52,457 - FL-type - INFO - average acc: 0.5470401387407372, average loss: 1.2000140428543091
2022-04-28 10:03:52,457 - FL-type - INFO - configuration and update stage simulation time: 118.22761594483701
2022-04-28 10:03:52,458 - FL-type - INFO - current_round_loss: 0.01137212500607986
2022-04-28 10:03:52,458 - FL-type - INFO - min sample loss: 0.6161759495735168, max sample loss: 2.707143783569336
2022-04-28 10:03:52,458 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:52,458 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:52,458 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:52,458 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:52,459 - FL-type - INFO - ===================== Round 9 of 6000 =====================
2022-04-28 10:03:52,459 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:52,459 - FL-type - INFO - current time: 1410.5890074255576	time window: 20.0	
2022-04-28 10:03:52,459 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:52,462 - FL-type - INFO - selected num: 5
2022-04-28 10:03:52,462 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:52,462 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:52,464 - FL-type - INFO - deadline_low 25, deadline_high 122, deadline 122.0
2022-04-28 10:03:52,464 - FL-type - INFO - this round deadline 122.0, loss_threshold 0
2022-04-28 10:03:52,465 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
2022-04-28 10:03:54,764 - FL-type - INFO - average acc: 0.588817691178314, average loss: 1.168056106567383
2022-04-28 10:03:54,765 - FL-type - INFO - configuration and update stage simulation time: 121.55863084304175
2022-04-28 10:03:54,765 - FL-type - INFO - current_round_loss: 0.011713232094476474
2022-04-28 10:03:54,765 - FL-type - INFO - min sample loss: 0.5850940346717834, max sample loss: 3.0801658630371094
2022-04-28 10:03:54,765 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:03:54,766 - FL-type - INFO - 5 of 5 clients upload successfully
2022-04-28 10:03:54,766 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:03:54,766 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:03:54,767 - FL-type - INFO - ===================== Round 10 of 6000 =====================
2022-04-28 10:03:54,767 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:03:54,767 - FL-type - INFO - current time: 1552.1476382685994	time window: 20.0	
2022-04-28 10:03:54,767 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:03:54,776 - FL-type - INFO - selected num: 5
2022-04-28 10:03:54,776 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:03:54,777 - FL-type - INFO - loss_threshold 0
2022-04-28 10:03:54,778 - FL-type - INFO - deadline_low 25, deadline_high 122, deadline 122.0
2022-04-28 10:03:54,779 - FL-type - INFO - this round deadline 122.0, loss_threshold 0
2022-04-28 10:03:54,779 - FL-type - INFO - this round deadline percentage 1.0, loss_threshold percentage 0.0
