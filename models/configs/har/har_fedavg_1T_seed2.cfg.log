2022-04-28 10:06:36,383 - FL-type - INFO - logger init finished ---- log file: ../models/configs/har/har_fedavg_1T_seed2.cfg.log
2022-04-28 10:06:37,263 - FL-type - INFO - read config from ../models/configs/har/har_fedavg_1T_seed2.cfg
2022-04-28 10:06:37,264 - FL-type - INFO - no behavior heterogeneity! assume client is availiable at any time.
2022-04-28 10:06:37,264 - FL-type - INFO - ================= Config =================
2022-04-28 10:06:37,264 - FL-type - INFO - 	config_name = ../models/configs/har/har_fedavg_1T_seed2.cfg
2022-04-28 10:06:37,264 - FL-type - INFO - 	dataset = har
2022-04-28 10:06:37,264 - FL-type - INFO - 	model = lr
2022-04-28 10:06:37,264 - FL-type - INFO - 	num_rounds = 6000
2022-04-28 10:06:37,265 - FL-type - INFO - 	lr = 0.0003
2022-04-28 10:06:37,265 - FL-type - INFO - 	eval_every = 5
2022-04-28 10:06:37,265 - FL-type - INFO - 	clients_per_round = 5
2022-04-28 10:06:37,265 - FL-type - INFO - 	min_selected = 1
2022-04-28 10:06:37,265 - FL-type - INFO - 	max_sample = 2147483647
2022-04-28 10:06:37,265 - FL-type - INFO - 	batch_size = 10
2022-04-28 10:06:37,265 - FL-type - INFO - 	seed = 2
2022-04-28 10:06:37,265 - FL-type - INFO - 	num_epochs = 5
2022-04-28 10:06:37,265 - FL-type - INFO - 	minibatch = None
2022-04-28 10:06:37,266 - FL-type - INFO - 	round_ddl = [1000, 0]
2022-04-28 10:06:37,266 - FL-type - INFO - 	update_frac = 0.01
2022-04-28 10:06:37,266 - FL-type - INFO - 	max_client_num = 9223372036854775807
2022-04-28 10:06:37,266 - FL-type - INFO - 	aggregate_algorithm = SucFedAvg
2022-04-28 10:06:37,266 - FL-type - INFO - 	time_window = [20.0, 0.0]
2022-04-28 10:06:37,266 - FL-type - INFO - 	user_trace = False
2022-04-28 10:06:37,266 - FL-type - INFO - 	behav_hete = False
2022-04-28 10:06:37,266 - FL-type - INFO - 	hard_hete = True
2022-04-28 10:06:37,266 - FL-type - INFO - 	no_training = False
2022-04-28 10:06:37,267 - FL-type - INFO - 	real_world = False
2022-04-28 10:06:37,267 - FL-type - INFO - 	compress_algo = None
2022-04-28 10:06:37,267 - FL-type - INFO - 	fedprox = False
2022-04-28 10:06:37,267 - FL-type - INFO - 	fedprox_mu = 0
2022-04-28 10:06:37,267 - FL-type - INFO - 	structure_k = None
2022-04-28 10:06:37,267 - FL-type - INFO - 	qffl = False
2022-04-28 10:06:37,267 - FL-type - INFO - 	qffl_q = 0
2022-04-28 10:06:37,267 - FL-type - INFO - 	fedbalancer = False
2022-04-28 10:06:37,267 - FL-type - INFO - 	fb_w = 1
2022-04-28 10:06:37,267 - FL-type - INFO - 	fb_p = 0.0
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_inference_pipelining = False
2022-04-28 10:06:37,268 - FL-type - INFO - 	noise_factor = 0.0
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_simple_control_lt = False
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_simple_control_ddl = False
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_simple_control_lt_stepsize = 0
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_simple_control_ddl_stepsize = 0
2022-04-28 10:06:37,268 - FL-type - INFO - 	fb_client_selection = False
2022-04-28 10:06:37,268 - FL-type - INFO - 	oort_pacer = False
2022-04-28 10:06:37,268 - FL-type - INFO - 	oort_pacer_delta = 10
2022-04-28 10:06:37,269 - FL-type - INFO - 	oort_blacklist = False
2022-04-28 10:06:37,269 - FL-type - INFO - 	oort_blacklist_rounds = 10
2022-04-28 10:06:37,269 - FL-type - INFO - 	realoort = False
2022-04-28 10:06:37,269 - FL-type - INFO - 	realoortbalancer = False
2022-04-28 10:06:37,269 - FL-type - INFO - 	ddl_baseline_smartpc = False
2022-04-28 10:06:37,269 - FL-type - INFO - 	ddl_baseline_smartpc_percentage = 0.0
2022-04-28 10:06:37,269 - FL-type - INFO - 	ddl_baseline_fixed = True
2022-04-28 10:06:37,269 - FL-type - INFO - 	ddl_baseline_fixed_value_multiplied_at_mean = 1.0
2022-04-28 10:06:37,269 - FL-type - INFO - 	global_final_time = 500000
2022-04-28 10:06:37,269 - FL-type - INFO - 	global_final_test_accuracy = 0.0
2022-04-28 10:06:37,270 - FL-type - INFO - 	output_path = ../models/configs/har/
2022-04-28 10:06:37,270 - FL-type - INFO - ================= ====== =================
2022-04-28 10:06:37,270 - FL-type - INFO - ############################## har.lr ##############################
2022-04-28 10:06:46,230 - FL-type - INFO - model size: 13488
2022-04-28 10:06:46,231 - FL-type - INFO - ======================Setup Clients==========================
2022-04-28 10:06:47,541 - FL-type - INFO - Train Clients in Total: 21
2022-04-28 10:06:47,541 - FL-type - INFO - Test Clients in Total: 1
2022-04-28 10:06:47,549 - FL-type - INFO - set up 10 clients
2022-04-28 10:06:47,553 - FL-type - INFO - set up 20 clients
2022-04-28 10:06:47,629 - FL-type - INFO - Timer cached in cached_timers.json
2022-04-28 10:06:47,630 - FL-type - INFO - device setup result: defaultdict(<class 'int'>, {'Google Nexus S': 14, 'Xiaomi Redmi Note 7 Pro': 7})
2022-04-28 10:06:47,646 - FL-type - INFO - ===================== Random Initialization =====================
2022-04-28 10:06:47,646 - FL-type - INFO - ===================== Round 1 of 6000 =====================
2022-04-28 10:06:47,646 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:47,646 - FL-type - INFO - current time: 0	time window: 20.0	
2022-04-28 10:06:47,647 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:47,647 - FL-type - INFO - selected num: 5
2022-04-28 10:06:47,647 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:47,647 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:48,324 - FL-type - INFO - average acc: 0.1550632911392405, average loss: 1.8997459411621094
2022-04-28 10:06:48,325 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:48,325 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:48,325 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:48,325 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:48,325 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:48,326 - FL-type - INFO - ===================== Round 2 of 6000 =====================
2022-04-28 10:06:48,326 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:48,326 - FL-type - INFO - current time: 247.0	time window: 20.0	
2022-04-28 10:06:48,326 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:48,327 - FL-type - INFO - selected num: 5
2022-04-28 10:06:48,327 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:48,327 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:48,770 - FL-type - INFO - average acc: 0.27445652173913043, average loss: 1.5872046947479248
2022-04-28 10:06:48,771 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:48,771 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:48,771 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:48,771 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:48,771 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:48,771 - FL-type - INFO - ===================== Round 3 of 6000 =====================
2022-04-28 10:06:48,772 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:48,772 - FL-type - INFO - current time: 494.0	time window: 20.0	
2022-04-28 10:06:48,772 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:48,772 - FL-type - INFO - selected num: 5
2022-04-28 10:06:48,772 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:48,773 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:49,754 - FL-type - INFO - average acc: 0.4772960776153566, average loss: 1.4541670680046082
2022-04-28 10:06:49,754 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:49,755 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:49,755 - FL-type - INFO - 2 of 5 clients upload successfully
2022-04-28 10:06:49,755 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:49,755 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:49,756 - FL-type - INFO - ===================== Round 4 of 6000 =====================
2022-04-28 10:06:49,756 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:49,756 - FL-type - INFO - current time: 741.0	time window: 20.0	
2022-04-28 10:06:49,756 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:49,757 - FL-type - INFO - selected num: 5
2022-04-28 10:06:49,757 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:49,757 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:50,228 - FL-type - INFO - average acc: 0.5174418604651163, average loss: 1.3768155574798584
2022-04-28 10:06:50,229 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:50,229 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:50,229 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:50,229 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:50,230 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:50,230 - FL-type - INFO - ===================== Round 5 of 6000 =====================
2022-04-28 10:06:50,230 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:50,230 - FL-type - INFO - current time: 988.0	time window: 20.0	
2022-04-28 10:06:50,230 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:50,231 - FL-type - INFO - selected num: 5
2022-04-28 10:06:50,231 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:50,232 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:51,226 - FL-type - INFO - average acc: 0.7063349348950929, average loss: 1.2833073139190674
2022-04-28 10:06:51,227 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:51,227 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:51,227 - FL-type - INFO - 2 of 5 clients upload successfully
2022-04-28 10:06:51,227 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:51,227 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:51,228 - FL-type - INFO - --------------------- test result ---------------------
2022-04-28 10:06:51,365 - FL-type - INFO - test_accuracy: 0.5649813369528334, 10th percentile: 0.5649813369528334, 50th percentile: 0.5649813369528334, 90th percentile 0.5649813369528334
2022-04-28 10:06:51,367 - FL-type - INFO - test_loss: 1.3187617063522339, 10th percentile: 1.3187617063522339, 50th percentile: 1.3187617063522339, 90th percentile 1.3187617063522339
2022-04-28 10:06:51,367 - FL-type - INFO - ===================== Round 6 of 6000 =====================
2022-04-28 10:06:51,367 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:51,367 - FL-type - INFO - current time: 1235.0	time window: 20.0	
2022-04-28 10:06:51,368 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:51,368 - FL-type - INFO - selected num: 5
2022-04-28 10:06:51,368 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:51,369 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:51,819 - FL-type - INFO - average acc: 0.7383720930232558, average loss: 1.1844040155410767
2022-04-28 10:06:51,820 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:51,820 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:51,820 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:51,820 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:51,820 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:51,821 - FL-type - INFO - ===================== Round 7 of 6000 =====================
2022-04-28 10:06:51,821 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:51,821 - FL-type - INFO - current time: 1482.0	time window: 20.0	
2022-04-28 10:06:51,821 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:51,822 - FL-type - INFO - selected num: 5
2022-04-28 10:06:51,822 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:51,823 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:52,795 - FL-type - INFO - average acc: 0.7616678530531398, average loss: 1.1637848019599915
2022-04-28 10:06:52,796 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:52,796 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:52,796 - FL-type - INFO - 2 of 5 clients upload successfully
2022-04-28 10:06:52,796 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:52,796 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:52,797 - FL-type - INFO - ===================== Round 8 of 6000 =====================
2022-04-28 10:06:52,797 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:52,797 - FL-type - INFO - current time: 1729.0	time window: 20.0	
2022-04-28 10:06:52,798 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:52,798 - FL-type - INFO - selected num: 5
2022-04-28 10:06:52,798 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:52,798 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:53,185 - FL-type - INFO - average acc: 0.6263345195729537, average loss: 1.1146639585494995
2022-04-28 10:06:53,186 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:53,187 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:53,187 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:53,187 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:53,188 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:53,188 - FL-type - INFO - ===================== Round 9 of 6000 =====================
2022-04-28 10:06:53,188 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:53,188 - FL-type - INFO - current time: 1976.0	time window: 20.0	
2022-04-28 10:06:53,189 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:53,190 - FL-type - INFO - selected num: 5
2022-04-28 10:06:53,190 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:53,190 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:53,737 - FL-type - INFO - average acc: 0.7946210268948656, average loss: 1.09131920337677
2022-04-28 10:06:53,738 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:53,738 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:53,738 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:53,738 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:53,738 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:53,739 - FL-type - INFO - ===================== Round 10 of 6000 =====================
2022-04-28 10:06:53,739 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:53,739 - FL-type - INFO - current time: 2223.0	time window: 20.0	
2022-04-28 10:06:53,739 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:53,740 - FL-type - INFO - selected num: 5
2022-04-28 10:06:53,740 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:53,740 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:54,284 - FL-type - INFO - average acc: 0.7356020942408377, average loss: 1.067747712135315
2022-04-28 10:06:54,284 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:54,285 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:54,285 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:54,285 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:54,286 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:54,286 - FL-type - INFO - --------------------- test result ---------------------
2022-04-28 10:06:54,423 - FL-type - INFO - test_accuracy: 0.668137088564642, 10th percentile: 0.668137088564642, 50th percentile: 0.668137088564642, 90th percentile 0.668137088564642
2022-04-28 10:06:54,424 - FL-type - INFO - test_loss: 1.0835692882537842, 10th percentile: 1.0835692882537842, 50th percentile: 1.0835692882537842, 90th percentile 1.0835692882537842
2022-04-28 10:06:54,424 - FL-type - INFO - ===================== Round 11 of 6000 =====================
2022-04-28 10:06:54,425 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:54,425 - FL-type - INFO - current time: 2470.0	time window: 20.0	
2022-04-28 10:06:54,425 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:54,426 - FL-type - INFO - selected num: 5
2022-04-28 10:06:54,426 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:54,426 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:54,935 - FL-type - INFO - average acc: 0.8191489361702128, average loss: 0.9430845379829407
2022-04-28 10:06:54,936 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:54,936 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:54,936 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:54,936 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:54,936 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:54,937 - FL-type - INFO - ===================== Round 12 of 6000 =====================
2022-04-28 10:06:54,937 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:54,937 - FL-type - INFO - current time: 2717.0	time window: 20.0	
2022-04-28 10:06:54,937 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:54,938 - FL-type - INFO - selected num: 5
2022-04-28 10:06:54,938 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:54,938 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:55,949 - FL-type - INFO - average acc: 0.8159183320931221, average loss: 0.9486266672611237
2022-04-28 10:06:55,949 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:55,949 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:55,950 - FL-type - INFO - 2 of 5 clients upload successfully
2022-04-28 10:06:55,950 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:55,950 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:55,950 - FL-type - INFO - ===================== Round 13 of 6000 =====================
2022-04-28 10:06:55,950 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:55,951 - FL-type - INFO - current time: 2964.0	time window: 20.0	
2022-04-28 10:06:55,951 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:55,952 - FL-type - INFO - selected num: 5
2022-04-28 10:06:55,952 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:55,952 - FL-type - INFO - this round deadline 227
2022-04-28 10:06:56,470 - FL-type - INFO - average acc: 0.7801047120418848, average loss: 0.9703974723815918
2022-04-28 10:06:56,470 - FL-type - INFO - configuration and update stage simulation time: 227
2022-04-28 10:06:56,471 - FL-type - INFO - --------------------- report stage ---------------------
2022-04-28 10:06:56,471 - FL-type - INFO - 1 of 5 clients upload successfully
2022-04-28 10:06:56,471 - FL-type - INFO - round succeed, updating global model...
2022-04-28 10:06:56,471 - FL-type - INFO - Aggragate with SucFedAvg
2022-04-28 10:06:56,472 - FL-type - INFO - ===================== Round 14 of 6000 =====================
2022-04-28 10:06:56,472 - FL-type - INFO - --------------------- selection stage ---------------------
2022-04-28 10:06:56,472 - FL-type - INFO - current time: 3211.0	time window: 20.0	
2022-04-28 10:06:56,472 - FL-type - INFO - 21 of 21 clients online
2022-04-28 10:06:56,473 - FL-type - INFO - selected num: 5
2022-04-28 10:06:56,473 - FL-type - INFO - --------------------- configuration stage ---------------------
2022-04-28 10:06:56,473 - FL-type - INFO - this round deadline 227
